
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://accelleran.github.io/drax-xapp-dev-guide/v2.2/xapp-dev-guide/xapp_configuration/" rel="canonical"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.5.3, mkdocs-material-7.3.6" name="generator"/>
<title>xApp Configuration In-depth - dRAX xApp Dev Guide</title>
<link href="../../assets/stylesheets/main.a57b2b03.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.3f5d1f46.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
<link href="../../css/extra.css" rel="stylesheet"/>
</head>
<body data-md-color-accent="none" data-md-color-primary="none" data-md-color-scheme="" dir="ltr">
<script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#xapp-configuration-in-depth">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="dRAX xApp Dev Guide" class="md-header__button md-logo" data-md-component="logo" href="../.." title="dRAX xApp Dev Guide">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            dRAX xApp Dev Guide
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              xApp Configuration In-depth
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
        Overview
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../quick_guide/">
        Documentation
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../message_references/5G/4.2/kafka/">
        Message References
      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="dRAX xApp Dev Guide" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="dRAX xApp Dev Guide">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
    dRAX xApp Dev Guide
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_1" id="__nav_1" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../..">Overview</a>
<label for="__nav_1">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Overview" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
          Overview
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../changelog/">
        Changelog
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2">
          Documentation
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Documentation" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Documentation
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../quick_guide/">
        Quick guide
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../development_workflows/">
        Development Workflows
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../xapp_dev_environment/">
        Build your own xApp Dev Environment
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../xapp_productize/">
        Productize your xApp
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../xapp_framework/">
        xApp Framework In-depth
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../xapp_library/">
        xApp Library In-depth
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../xapp_unittest/">
        xApp Unit Tests
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../xapp_readme/">
        The xApp Documentation README.md
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../xapp_rest_api/">
        xApp REST API
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          xApp Configuration In-depth
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        xApp Configuration In-depth
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#overview-of-the-xapp-configuration">
    Overview of the xApp Configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#xapp-metadata">
    xApp Metadata
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#xapp-runtime-configuration">
    xApp Runtime Configuration
  </a>
<nav aria-label="xApp Runtime Configuration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#setting-xapp-configuration-during-runtime">
    Setting xApp Configuration during runtime
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#changing-xapp-configuration-during-runtime-drax-dashboard">
    Changing xApp Configuration during runtime - dRAX Dashboard
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#changing-xapp-configuration-during-runtime-xapp-api">
    Changing xApp Configuration during runtime - xApp API
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#xapp-endpoints">
    xApp Endpoints
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#xapp-settings-class">
    xApp Settings Class
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#how-to-create-configuration-option-widgets-on-the-drax-dashboard">
    How to create configuration option widgets on the dRAX Dashboard
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../xapp_helm_charts/">
        xApp Helm Chart In-Depth
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../xapp_lifecycle/">
        xApps Lifecycle In-depth
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../xapp_core/">
        Writing the xApp Core in a different language
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../appendix_dockerhub/">
        Appendix: Pushing to Dockerhub
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../appendix_conversion/">
        Appendix: Conversion from the xApp Framework to the xApp Library
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
          Message References
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Message References" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Message References
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_3_1" id="__nav_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_1">
          5G
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="5G" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_1">
<span class="md-nav__icon md-icon"></span>
          5G
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_3_1_1" id="__nav_3_1_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_1_1">
          version 4.2
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="version 4.2" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_1_1">
<span class="md-nav__icon md-icon"></span>
          version 4.2
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../message_references/5G/4.2/kafka/">
        Kafka
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../message_references/5G/4.2/nats/">
        Nats
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_3_1_2" id="__nav_3_1_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_1_2">
          version 3.3
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="version 3.3" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_1_2">
<span class="md-nav__icon md-icon"></span>
          version 3.3
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../message_references/5G/3.3/nats/">
        Nats
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_3_1_3" id="__nav_3_1_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_1_3">
          version 2.4
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="version 2.4" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_1_3">
<span class="md-nav__icon md-icon"></span>
          version 2.4
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../message_references/5G/2.4/nats/">
        Nats
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_3_2" id="__nav_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2">
          4G
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="4G" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
          4G
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-state="indeterminate" data-md-toggle="__nav_3_2_1" id="__nav_3_2_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2_1">
          version 5.2
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="version 5.2" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_2_1">
<span class="md-nav__icon md-icon"></span>
          version 5.2
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../message_references/4G/5.2/kafka/">
        Kafka
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="xapp-configuration-in-depth"><span class="enumerate-headings-plugin enumerate-heading-plugin">12.</span> xApp Configuration In-depth<a class="headerlink" href="#xapp-configuration-in-depth" title="Permanent link">⚓︎</a></h1>
<p>The xApp Configuration has multiple aspects which need to be understood. </p>
<p>Firstly there are three JSON files that are used to define the configuration. One of the JSON files, xapp_metadata.json, is created by the developer and contains the descriptions and default values of the configuration options. The second configuration file, xapp_config.json, is generated by the xApp Helm Chart and can be used to override the default values of the configuration options defined in xapp_metadata.json at deployment time. Finally, the third configuration file, the xapp_endpoints.json, is also generated by the xApp Helm Chart on deployment and is used to store the dRAX RIC endpoints URLs and ports, which are auto discovered and used for seamless integration with the dRAX RIC.</p>
<p>There is also a backend Redis Database that can be used to override the configuration values set from either xapp_metadata.json or xapp_config.json at run-time. This also adds persistence, so if the xApp is restarted, any of these overriden values are still used. </p>
<p>The xApp Library provides a Settings class to manage and provide access to all the configuration values from within the xApp application itself.</p>
<p>To access the xApp configuration externally, the xApp Library exposes two xApp API endpoints: /config and /metadata. There are multiple ways of editing the configuration options during run-time. The users can use the dRAX Dashboard for a user friendly, GUI approach, or they can use the /config API endpoint to programmatically change the configuration options. Once the configuration options are changed in any way, the xApp Library Settings class will automatically save the changes to the Redis Database.</p>
<h2 id="overview-of-the-xapp-configuration"><span class="enumerate-headings-plugin enumerate-heading-plugin">12.1</span> Overview of the xApp Configuration<a class="headerlink" href="#overview-of-the-xapp-configuration" title="Permanent link">⚓︎</a></h2>
<p>In this subsection we describe the xApp Configuration in more detail. We will explain the configuration split into multiple files, and what they contain.</p>
<p>The xApp relies on three different configuration files:</p>
<ol>
<li>The xapp_metadata.json: Required for every xApp, contains information about the xApp itself, including but not limited to the name of the xApp, a description, the date of the last modification, as well as the definitions of the configuration options of that xApp including their default values. This information is provided by the creator of the xApp and cannot be modified during run-time.</li>
<li>The xapp_config.json: This file is generated by the xApp Helm Chart on deployment. It is used to change the default values of the configuration that is defined in the xapp_metadata.json. Note, that this file is used to change the config on deployment, however,  this file can be separately created and sent to the /config API endpoint to change the configuration during runtime. The dRAX Dashboard basically uses this principle to change the configuration during runtime.</li>
<li>The xapp_endpoints.json: This file is also generated by the xApp Helm Chart. The xApp Helm Chart already auto discovers the necessary endpoint of the dRAX RIC (Kafka, NATS, xApp Database, dRAX RIC API Gateway, etc.) which are necessary for proper xApp functionality and integration. However, the developer or user may choose to add additional endpoints of their choosing to make them accessible through the Settings class in the xApp itself.</li>
</ol>
<p>When reading configuration (except for endpoints which are treated separately) the xApp first checks the xApp database for the configuration parameters, then if not present checks the configuration inside xapp_config.json, and if the configuration parameter is not present either, uses the default value from xapp_metadata.json. On the other hand, all writes during the lifetime of an xApp will be forwarded to xApp Database.</p>
<p>All three can be added using the builder pattern:</p>
<div class="highlight"><pre><span></span><code>builder = xapp_lib.XAppBuilder("..", absolute=False)

builder.metadata("core/xapp_metadata.json")

builder.endpoints("config/xapp_endpoints.json")

builder.config("config/xapp_config.json")

xapp = builder.build()
</code></pre></div>
<p><strong>NOTE:</strong> If for example the user during deployment does not need to change the default values defined in xapp_metadata.json, one can do so in the xApp Helm Chart by not generating the xapp_config.json. Still, the developers should leave the option for the xApp Builder to include this file if it exists. If the file does not exist, the xApp will just log that this file was not found, and us eteh default from the xapp-metadata.json.</p>
<h2 id="xapp-metadata"><span class="enumerate-headings-plugin enumerate-heading-plugin">12.2</span> xApp Metadata<a class="headerlink" href="#xapp-metadata" title="Permanent link">⚓︎</a></h2>
<p>The Metadata contains basic information and metadata about the xApp itself. Usually the metadata is included in the repository containing the xApp itself and is created by the developer. The list of configuration options can be expanded depending on the need, but this is only done in development. The data contained inside the xapp_metadata.json cannot be changed during runtime. To change the value of the configuration options defined here, one must use the /config API endpoint.</p>
<table>
<tr>
<td>Configuration option
   </td>
<td>Type
   </td>
<td>Description
   </td>
</tr>
<tr>
<td>metadata.name
   </td>
<td>Uneditable
   </td>
<td>The name of the xApp
   </td>
</tr>
<tr>
<td>metadata.namespace
   </td>
<td>Uneditable
   </td>
<td>The namespace where the xApp is deployed. This is the same namespace as dRAX.
   </td>
</tr>
<tr>
<td>metadata.description
   </td>
<td>Uneditable
   </td>
<td>A description of the xApp
   </td>
</tr>
<tr>
<td>metadata.last_modified
   </td>
<td>Uneditable
   </td>
<td>A timestamp when the configuration was last modified. In format:
<p>
"d/m/Y H:M:S"
   </p></td>
</tr>
<tr>
<td>metadata.config_options
   </td>
<td>Uneditable
   </td>
<td>A list of configuration options in  \
{ \
    “name”: \
    ”description”: \
    ”default”:
<p>
}
<p>
format
   </p></p></td>
</tr>
</table>
<p>In the xApp Framework repository, we give an example of how the xapp_metadata.json can look like.</p>
<div class="highlight"><pre><span></span><code>{
    "name": "xApp Name",
    "configName": "",
    "description": "xApp Description...",
    "last_modified": "06/07/2020 23:32:00",
    "config_options": [
        {
            "name": "LOG_LEVEL",
            "description": "Log stuff",
            "default": 10,
            "jsonSchemaOptions": {
                "type": "number"
            },
            "uiSchemaOptions": {}
        },
        {
            "name": "example_slider",
            "description": "Test string configuration option",
            "default": 10,
            "jsonSchemaOptions": {
                "type": "number",
                "minimum": 0,
                "maximum": 50
            },
            "uiSchemaOptions": {
                "ui:widget": "range"
            }
        },
        {
            "name": "someUrl",
            "description": "Test URL configuration option",
            "default": "url://some.url",
            "jsonSchemaOptions": {
                "type": "string"
            },
            "uiSchemaOptions": {}
        },
        {
            "name": "boolean",
            "description": "Test boolean configuration option",
            "default": true,
            "jsonSchemaOptions": {
                "type": "boolean"
            },
            "uiSchemaOptions": {
                "ui:widget": "select"
            }
        }

    ]
}
</code></pre></div>
<p>As can be seen, we define 4 configuration options: LOG_LEVEL, example_slider, someUrl, boolean. Each of them has a name, description, default value, and visualization options for the dRAX Dashboard. The visualization options are described in the <a href="#how-to-create-configuration-option-widgets-on-the-drax-dashboard">How to create configuration option widgets on the dRAX Dashboard</a> section.</p>
<h2 id="xapp-runtime-configuration"><span class="enumerate-headings-plugin enumerate-heading-plugin">12.3</span> xApp Runtime Configuration<a class="headerlink" href="#xapp-runtime-configuration" title="Permanent link">⚓︎</a></h2>
<p>The configuration options as seen before are defined in the xapp_metadata.json and loaded into the Settings class of the xApp. Changing the value of these configuration options can be done in multiple ways:</p>
<ul>
<li>During deployment time by defining the xapp_config.json through the xApp Helm Chart</li>
<li>During runtime via the dRAX Dashboard</li>
<li>During runtime using the /config xApp API endpoint</li>
</ul>
<h3 id="setting-xapp-configuration-during-runtime"><span class="enumerate-headings-plugin enumerate-heading-plugin">12.3.1</span> Setting xApp Configuration during runtime<a class="headerlink" href="#setting-xapp-configuration-during-runtime" title="Permanent link">⚓︎</a></h3>
<p>If the user needs to change the xApp Configuration options default values on deployment, one can edit the xApp Helm Chart to generate the xapp_config.json file. In particular, the user can supply a values.yaml file containing the following:</p>
<div class="highlight"><pre><span></span><code>### Define the xapp_config.json
xappConfig:
  LOG_LEVEL: 20
  example_slider: 50
  someUrl: "nats://{{ .Values.global.kubeIp }}:31000"
  boolean: false
</code></pre></div>
<p>The configuration options in this example (LOG_LEVEL, example_slider, someUrl, boolean) need to be defined in the xapp-metadata.json. When comparing with the previous subsection, the xapp_metadata.json example, we see that the LOG_LEVEL by default has the value of 10. However, if we use the above-mentioned values file for the xApp Helm Chart, the LOG_LEVEL will change to 20 during deployment time.</p>
<h3 id="changing-xapp-configuration-during-runtime-drax-dashboard"><span class="enumerate-headings-plugin enumerate-heading-plugin">12.3.2</span> Changing xApp Configuration during runtime - dRAX Dashboard<a class="headerlink" href="#changing-xapp-configuration-during-runtime-drax-dashboard" title="Permanent link">⚓︎</a></h3>
<p>The xApp Configuration can then further be changed during runtime. One way to achieve this is using the dRAX Dashboard. The dRAX Dashboard uses the xApps /metadata and /config API endpoints to retrieve information on the xApp. Then it can also use the /config API endpoint to change the runtime configuration of the xApp.</p>
<p>Simply navigate to the xApp Management -&gt; Overview page of the dRAX Dashboard. Click the icon under the Detail column of your xApp. Expand the Configuration Parameters section to see all the configuration options of your xApp like shown on <a href="#changing-xapp-configuration-during-runtime-drax-dashboard">Figure: xApp example configuration options</a>. Now change any value and click the Submit button. In the background, the dRAX Dashboard generates the equivalent of the xapp_config.json, and sends it to the xApp /config API endpoint. This triggers the xApp Library Settings class to apply the configuration change, but also to store this configuration change into the xApp Database for persistence.</p>
<table>
<tr>
<td>
<img align="center" alt="xApp example configuration options image" src="../images/xapp_example_configuration_options.png" title="xApp example configuration options"/>
</td>
</tr>
<tr>
<td>Figure: xApp example configuration options
   </td>
</tr>
</table>
<h3 id="changing-xapp-configuration-during-runtime-xapp-api"><span class="enumerate-headings-plugin enumerate-heading-plugin">12.3.3</span> Changing xApp Configuration during runtime - xApp API<a class="headerlink" href="#changing-xapp-configuration-during-runtime-xapp-api" title="Permanent link">⚓︎</a></h3>
<p>The configuration of an xApp can also be changed using the xApp /config API endpoint. To do so, we need to create the xapp_config.json. This JSON is then forwarded to the xApp /config API, which will trigger the Settings class in the xApp Library to adjust the xApp Configuration and save teh changes to the xApp Database for persistence. For example, if we want to change the LOG_LEVEL configuration option from our example, we can simply create the following xapp_config.json:</p>
<div class="highlight"><pre><span></span><code>{
 'LOG_LEVEL': 20,
}
</code></pre></div>
<p>By creating such a JSON and sending it to the xApp /config API, the configuration options can be edited during runtime. The xApp API can be reached via the dRAX RIC API Gateway. Each xApp has their API endpoints exposed through the dRAX RIC API Gateway. You can use the:</p>
<p>/xappconfiguration/config/{xAppName}</p>
<p>API endpoint to reach the configuration of each xApp. You can get the xApp configuration from this endpoint and edit it. Details on the dRAX RIC API Gateway endpoints for the xApps can be seen on Swagger which can be reached at:</p>
<div class="highlight"><pre><span></span><code>http://&lt;kubernets_ip&gt;:31315/api/v1/docs
</code></pre></div>
<p>Just substitute &lt;kubernetes_ip&gt; with the advertised address of your Kubernetes cluster.</p>
<h2 id="xapp-endpoints"><span class="enumerate-headings-plugin enumerate-heading-plugin">12.4</span> xApp Endpoints<a class="headerlink" href="#xapp-endpoints" title="Permanent link">⚓︎</a></h2>
<p>The xApp Endpoints are a list of urls explaining to the xApp where to find databases and event brokers. The xapp_endpoints.json, which is loaded by the xApp Builder, is filled with information how to reach all the necessary dRAX RIC hooks. Since this is generated by the xApp Helm Chart, these URLs and ports can also be auto discovered, which is what the xApp Helm Chart does. This way, the developer does not have to worry about how to properly connect to all the dRAX RIC hooks. Some of the default endpoints this file contains are:</p>
<table>
<tr>
<td>Configuration option
   </td>
<td>Type
   </td>
<td>Description
   </td>
</tr>
<tr>
<td>NATS_URL
   </td>
<td>Optional
   </td>
<td>The url of the NATS broker
   </td>
</tr>
<tr>
<td>KAFKA_URL
   </td>
<td>Optional
   </td>
<td>The url of the Kafka broker
   </td>
</tr>
<tr>
<td>REDIS_URL
   </td>
<td>Required
   </td>
<td>The url of the xApp Redis database
   </td>
</tr>
</table>
<p>The developer is however free to add additional xApp endpoints, so they can be accessible through the endpoints object in the Settings class. This can be done in the xApp Helm Chart. Edit the xApp Chart values.yaml file, and locate the xappEndPoints key:</p>
<div class="highlight"><pre><span></span><code>...
### Define the xapp_endpoints.json
xappEnpoints:
  REDIS_URL: "redis://{{ .Release.Name }}-xapp-redis.{{ .Release.Namespace }}:6379"
  KAFKA_URL: "kafka://{{ .Values.global.kubeIp }}:31090"
  API_URL: "http://{{ .Values.global.kubeIp }}:31315"
  NATS_URL: "nats://{{ .Values.global.kubeIp }}:31000"
...
</code></pre></div>
<p>Here, the developer can add additional endpoints.</p>
<h2 id="xapp-settings-class"><span class="enumerate-headings-plugin enumerate-heading-plugin">12.5</span> xApp Settings Class<a class="headerlink" href="#xapp-settings-class" title="Permanent link">⚓︎</a></h2>
<p>Most configuration can be accessed through the Settings class, which abstracts away the peculiarities when dealing with configuration. The Settings class is in charge of setting the configuration options locally through the xApp configuration files. Furthermore, it is in charge of changing those configuration options once a change happens via the xApp API. Finally, it also stores the configuration in the xApp Database for persistence.</p>
<p>The Settings class can be obtained from the within the xApp via the method:</p>
<div class="highlight"><pre><span></span><code>xapp.settings()
</code></pre></div>
<p>The following methods are then available from the Settings class:</p>
<div class="highlight"><pre><span></span><code>### Loads a config file in the format of the xapp_config.json to override values in xapp_metadata.json
load(filename: str)   

### Wipes values stored in the Redis Database
wipe()

### Sets the Ready Flag - this can be used by the application to specify whether it is ready to run
set_ready(ready: bool)

### Gets the Ready Flag - this can be used by the application to retrieve whether it is ready to run
get_ready() -&gt; bool

### Sets a specific configuration value (in the Redis Database) where key is the configuration option
set_config(key: str, value: str)

### Gets a configuration option (using the precedence checking order)
get_config(key: str) -&gt; str

### Sets a whole config in the Redis Database supplied in JSON format of key value pairs
set_whole_config(config: str)

### Gets the whole config from the Redis Database in JSON format of key value pairs
get_whole_config() -&gt; str
</code></pre></div>
<h2 id="how-to-create-configuration-option-widgets-on-the-drax-dashboard"><span class="enumerate-headings-plugin enumerate-heading-plugin">12.6</span> How to create configuration option widgets on the dRAX Dashboard<a class="headerlink" href="#how-to-create-configuration-option-widgets-on-the-drax-dashboard" title="Permanent link">⚓︎</a></h2>
<p>The dashboard front-end makes use of the react-jsonschema-form library to visualize the xApp configuration form. Changing the  "jsonSchemaOptions" and "uiSchemaOptions" objects within the xApp configuration xapp_metadata.json, will change the way the form appears on the browser. e.g.</p>
<div class="highlight"><pre><span></span><code>  {
    "name": "example_slider",
    "description": "Test string configuration option",
    "default": 10,
    "jsonSchemaOptions": {
      "type": "number",
      "minimum": 0,
      "maximum": 50
    },
    "uiSchemaOptions": {
      "ui:widget": "range"
    }
  },
</code></pre></div>
<p>Will create a configuration option named “example_slider”, with a default value of 10. Then the jsonSchemaOptions define that this is a number, with a range of (0-50). The uiSchemaOptions defines this as a “range” widget, which is a slider. Therefore, the dRAX Dashboard will use this data to display a slider.</p>
<p>For more information and how to modify these options check :</p>
<p><a href="https://react-jsonschema-form.readthedocs.io/en/latest/usage/widgets/">https://react-jsonschema-form.readthedocs.io/en/latest/usage/widgets/</a></p>
<p>The visualization library used can be found here:</p>
<p><a href="https://github.com/rjsf-team/react-jsonschema-form">https://github.com/rjsf-team/react-jsonschema-form</a></p>
</article>
</div>
</div>
<a class="md-top md-icon" data-md-component="top" data-md-state="hidden" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path></svg>
            Back to top
          </a>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: xApp REST API" class="md-footer__link md-footer__link--prev" href="../xapp_rest_api/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              xApp REST API
            </div>
</div>
</a>
<a aria-label="Next: xApp Helm Chart In-Depth" class="md-footer__link md-footer__link--next" href="../xapp_helm_charts/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              xApp Helm Chart In-Depth
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
            Material for MkDocs
          </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.expand", "navigation.indexes", "navigation.top", "navigation.tabs", "toc.integrate"], "search": "../../assets/javascripts/workers/search.fcfe8b6d.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
<script src="../../assets/javascripts/bundle.b1047164.min.js"></script>
</body>
</html>